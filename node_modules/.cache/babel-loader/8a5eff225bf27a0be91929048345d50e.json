{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport { jsx, Global } from '@emotion/core';\nimport React, { Fragment, useRef, useState, useEffect } from 'react';\nimport { useClickOutside } from '@swiftcarrot/react-hooks';\nimport Popper from 'popper.js';\nimport { uid } from '@swiftcarrot/utils';\nvar _ref = {\n  name: \"kpm0v2\",\n  styles: \"position:absolute;display:block;width:16px;height:8px;margin:0 5px;&:before,&:after{position:absolute;display:block;content:'';border-color:transparent;border-style:solid;}\"\n};\n\nvar Arrow = function Arrow(_ref2) {\n  var placement = _ref2.placement,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"placement\"]);\n\n  return jsx(Fragment, null, jsx(Global, {\n    styles: styles\n  }), jsx(\"div\", _extends({}, props, {\n    \"data-arrow\": \"true\",\n    css: _ref\n  })));\n};\n\nvar styles = {\n  name: \"rvo98s\",\n  styles: \"[x-placement^='top']{margin-bottom:8px;[data-arrow]{bottom:-9px;}[data-arrow]:before{bottom:0;border-width:8px 8px 0;border-top-color:rgba(0,0,0,0.25);}[data-arrow]:after{bottom:1px;border-width:8px 8px 0;border-top-color:#fff;}}[x-placement^='right']{margin-left:8px;[data-arrow]{left:-9px;width:8px;height:16px;margin:5px 0;}[data-arrow]:before{left:0;border-width:8px 8px 8px 0;border-right-color:rgba(0,0,0,0.25);}[data-arrow]:after{left:1px;border-width:8px 8px 8px 0;border-right-color:#fff;}}[x-placement^='bottom']{margin-top:8px;[data-arrow]{top:-9px;}[data-arrow]:before{top:0;border-width:0 8px 8px 8px;border-bottom-color:rgba(0,0,0,0.25);}[data-arrow]:after{top:1px;border-width:0 8px 8px 8px;border-bottom-color:#fff;}}[x-placement^='left']{margin-right:8px;[data-arrow]{right:-9px;width:8px;height:16px;margin:5px 0;}[data-arrow]:before{right:0;border-width:8px 0 8px 8px;border-left-color:rgba(0,0,0,0.25);}[data-arrow]:after{right:1px;border-width:8px 0 8px 8px;border-left-color:#fff;}}\"\n};\n\nvar Popover = function Popover(_ref) {\n  var header = _ref.header,\n      body = _ref.body,\n      children = _ref.children,\n      placement = _ref.placement,\n      trigger = _ref.trigger,\n      customStyles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"header\", \"body\", \"children\", \"placement\", \"trigger\", \"styles\"]);\n\n  var child = React.Children.only(children);\n  var popover = useRef(null);\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var _useState2 = useState(false),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useState3 = useState({\n    popoverId: null,\n    referenceId: null,\n    arrowId: null\n  }),\n      ids = _useState3[0],\n      setIds = _useState3[1];\n\n  var popoverId = ids.popoverId,\n      referenceId = ids.referenceId,\n      arrowId = ids.arrowId;\n  useClickOutside(popover, close);\n  useEffect(function () {\n    if (!popoverId) {\n      return setIds({\n        popoverId: uid('popover'),\n        referenceId: uid('reference'),\n        arrowId: uid('arrow')\n      });\n    }\n\n    var popover = document.getElementById(popoverId);\n    var reference = document.getElementById(referenceId);\n    var arrow = document.getElementById(arrowId);\n\n    if (popover && reference && arrow) {\n      new Popper(reference, popover, {\n        placement: placement,\n        modifiers: {\n          arrow: {\n            element: arrow\n          }\n        }\n      });\n      setVisible(open);\n    }\n  }, [open]);\n\n  function handleClick() {\n    if (trigger === 'click') {\n      setOpen(!open);\n    }\n  }\n\n  function close(e) {\n    if (e.target.id !== referenceId && !document.getElementById(referenceId).contains(e.target)) {\n      setOpen(false);\n    }\n  }\n\n  var styles = {\n    content: [defaultStyles.content, customStyles.content],\n    header: [defaultStyles.header, customStyles.header],\n    body: [defaultStyles.body, customStyles.body]\n  };\n  return jsx(Fragment, null, popoverId ? jsx(\"div\", _extends({}, props, {\n    id: popoverId,\n    ref: popover,\n    css: styles.content,\n    style: visible ? {\n      display: 'block'\n    } : {}\n  }), jsx(Arrow, {\n    id: arrowId\n  }), header ? jsx(\"div\", {\n    css: styles.header\n  }, header) : null, jsx(\"div\", {\n    css: styles.body\n  }, body)) : null, React.cloneElement(child, _extends({}, child.props, {\n    id: referenceId,\n    onClick: handleClick\n  })));\n};\n\nPopover.defaultProps = {\n  placement: 'right',\n  trigger: 'click',\n  styles: {}\n};\nvar defaultStyles = {\n  content: {\n    name: \"106ha8s\",\n    styles: \"display:none;max-width:300px;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,0.2);z-index:1060;\"\n  },\n  header: {\n    name: \"12koz1z\",\n    styles: \"padding:8px 12px;background-color:#f7f7f7;font-size:16px;font-weight:bold;border-top-left-radius:4px;border-top-right-radius:4px;\"\n  },\n  body: {\n    name: \"k7kym8\",\n    styles: \"padding:8px 12px;font-size:14px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;\"\n  }\n};\nexport default Popover;","map":{"version":3,"sources":["/Users/satishp/Projects/demo3d/node_modules/@xkit/popover/dist/index.esm.js"],"names":["_extends","_objectWithoutPropertiesLoose","jsx","Global","React","Fragment","useRef","useState","useEffect","useClickOutside","Popper","uid","_ref","name","styles","Arrow","_ref2","placement","props","css","Popover","header","body","children","trigger","customStyles","child","Children","only","popover","_useState","open","setOpen","_useState2","visible","setVisible","_useState3","popoverId","referenceId","arrowId","ids","setIds","close","document","getElementById","reference","arrow","modifiers","element","handleClick","e","target","id","contains","content","defaultStyles","ref","style","display","cloneElement","onClick","defaultProps"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport { jsx, Global } from '@emotion/core';\nimport React, { Fragment, useRef, useState, useEffect } from 'react';\nimport { useClickOutside } from '@swiftcarrot/react-hooks';\nimport Popper from 'popper.js';\nimport { uid } from '@swiftcarrot/utils';\n\nvar _ref = {\n  name: \"kpm0v2\",\n  styles: \"position:absolute;display:block;width:16px;height:8px;margin:0 5px;&:before,&:after{position:absolute;display:block;content:'';border-color:transparent;border-style:solid;}\"\n};\n\nvar Arrow = function Arrow(_ref2) {\n  var placement = _ref2.placement,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"placement\"]);\n\n  return jsx(Fragment, null, jsx(Global, {\n    styles: styles\n  }), jsx(\"div\", _extends({}, props, {\n    \"data-arrow\": \"true\",\n    css: _ref\n  })));\n};\n\nvar styles = {\n  name: \"rvo98s\",\n  styles: \"[x-placement^='top']{margin-bottom:8px;[data-arrow]{bottom:-9px;}[data-arrow]:before{bottom:0;border-width:8px 8px 0;border-top-color:rgba(0,0,0,0.25);}[data-arrow]:after{bottom:1px;border-width:8px 8px 0;border-top-color:#fff;}}[x-placement^='right']{margin-left:8px;[data-arrow]{left:-9px;width:8px;height:16px;margin:5px 0;}[data-arrow]:before{left:0;border-width:8px 8px 8px 0;border-right-color:rgba(0,0,0,0.25);}[data-arrow]:after{left:1px;border-width:8px 8px 8px 0;border-right-color:#fff;}}[x-placement^='bottom']{margin-top:8px;[data-arrow]{top:-9px;}[data-arrow]:before{top:0;border-width:0 8px 8px 8px;border-bottom-color:rgba(0,0,0,0.25);}[data-arrow]:after{top:1px;border-width:0 8px 8px 8px;border-bottom-color:#fff;}}[x-placement^='left']{margin-right:8px;[data-arrow]{right:-9px;width:8px;height:16px;margin:5px 0;}[data-arrow]:before{right:0;border-width:8px 0 8px 8px;border-left-color:rgba(0,0,0,0.25);}[data-arrow]:after{right:1px;border-width:8px 0 8px 8px;border-left-color:#fff;}}\"\n};\n\nvar Popover = function Popover(_ref) {\n  var header = _ref.header,\n      body = _ref.body,\n      children = _ref.children,\n      placement = _ref.placement,\n      trigger = _ref.trigger,\n      customStyles = _ref.styles,\n      props = _objectWithoutPropertiesLoose(_ref, [\"header\", \"body\", \"children\", \"placement\", \"trigger\", \"styles\"]);\n\n  var child = React.Children.only(children);\n  var popover = useRef(null);\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var _useState2 = useState(false),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useState3 = useState({\n    popoverId: null,\n    referenceId: null,\n    arrowId: null\n  }),\n      ids = _useState3[0],\n      setIds = _useState3[1];\n\n  var popoverId = ids.popoverId,\n      referenceId = ids.referenceId,\n      arrowId = ids.arrowId;\n  useClickOutside(popover, close);\n  useEffect(function () {\n    if (!popoverId) {\n      return setIds({\n        popoverId: uid('popover'),\n        referenceId: uid('reference'),\n        arrowId: uid('arrow')\n      });\n    }\n\n    var popover = document.getElementById(popoverId);\n    var reference = document.getElementById(referenceId);\n    var arrow = document.getElementById(arrowId);\n\n    if (popover && reference && arrow) {\n      new Popper(reference, popover, {\n        placement: placement,\n        modifiers: {\n          arrow: {\n            element: arrow\n          }\n        }\n      });\n      setVisible(open);\n    }\n  }, [open]);\n\n  function handleClick() {\n    if (trigger === 'click') {\n      setOpen(!open);\n    }\n  }\n\n  function close(e) {\n    if (e.target.id !== referenceId && !document.getElementById(referenceId).contains(e.target)) {\n      setOpen(false);\n    }\n  }\n\n  var styles = {\n    content: [defaultStyles.content, customStyles.content],\n    header: [defaultStyles.header, customStyles.header],\n    body: [defaultStyles.body, customStyles.body]\n  };\n  return jsx(Fragment, null, popoverId ? jsx(\"div\", _extends({}, props, {\n    id: popoverId,\n    ref: popover,\n    css: styles.content,\n    style: visible ? {\n      display: 'block'\n    } : {}\n  }), jsx(Arrow, {\n    id: arrowId\n  }), header ? jsx(\"div\", {\n    css: styles.header\n  }, header) : null, jsx(\"div\", {\n    css: styles.body\n  }, body)) : null, React.cloneElement(child, _extends({}, child.props, {\n    id: referenceId,\n    onClick: handleClick\n  })));\n};\n\nPopover.defaultProps = {\n  placement: 'right',\n  trigger: 'click',\n  styles: {}\n};\nvar defaultStyles = {\n  content: {\n    name: \"106ha8s\",\n    styles: \"display:none;max-width:300px;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,0.2);z-index:1060;\"\n  },\n  header: {\n    name: \"12koz1z\",\n    styles: \"padding:8px 12px;background-color:#f7f7f7;font-size:16px;font-weight:bold;border-top-left-radius:4px;border-top-right-radius:4px;\"\n  },\n  body: {\n    name: \"k7kym8\",\n    styles: \"padding:8px 12px;font-size:14px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;\"\n  }\n};\n\nexport default Popover;\n"]},"metadata":{},"sourceType":"module"}